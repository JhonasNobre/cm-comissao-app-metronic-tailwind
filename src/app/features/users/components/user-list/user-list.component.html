<div class="kt-container-fluid">
    <div class="flex flex-wrap items-center lg:items-end justify-between gap-5 pb-7.5">
        <div class="flex flex-col justify-center gap-2">
            <h1 class="text-xl font-medium leading-none text-mono">
                Lista de Usuários
            </h1>
        </div>
        <div class="flex items-center gap-2.5">
            <a class="kt-btn kt-btn-outline" href="#">
                Import CSV
            </a>
            <a class="kt-btn kt-btn-primary" routerLink="new">
                <i class="ki-filled ki-plus"></i>
                Adicionar Usuário
            </a>
        </div>
    </div>
</div>

<div class="kt-container-fluid">
    <div class="grid gap-5 lg:gap-7.5">
        <div class="kt-card kt-card-grid min-w-full">
            <div class="kt-card-header flex-wrap gap-2">
                <h3 class="kt-card-title text-sm">
                    Showing 20 of 34 users
                </h3>
                <div class="flex flex-wrap gap-2 lg:gap-5">
                    <div class="flex">
                        <label class="kt-input">
                            <i class="ki-filled ki-magnifier">
                            </i>
                            <input data-kt-datatable-search="#team_crew_table" placeholder="Search users" type="text"
                                value="" />
                        </label>
                    </div>
                    <div class="flex flex-wrap gap-2.5">
                        <button class="kt-btn kt-btn-outline kt-btn-primary">
                            <i class="ki-filled ki-setting-4">
                            </i>
                            Filtros
                        </button>
                    </div>
                </div>
            </div>
            <div class="kt-card-content">
                <p-table #dt [value]="(users$ | async) || []" [rows]="10" [rowsPerPageOptions]="[10, 25, 50, 100]"
                    [paginator]="true" [globalFilterFields]="['name', 'email', 'role', 'status']"
                    [tableStyle]="{ 'min-width': '75rem' }" [rowHover]="true" dataKey="id"
                    tableStyleClass="kt-table table-auto kt-table-border" [showCurrentPageReport]="true"
                    paginatorDropdownAppendTo="body"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} users">
                    <ng-template pTemplate="header">
                        <tr>
                            <th class="w-[60px] text-center">
                                <input class="kt-checkbox kt-checkbox-sm" data-kt-datatable-check="true"
                                    type="checkbox" />
                            </th>
                            <th class="min-w-[300px]">
                                <span class="kt-table-col">
                                    <span class="kt-table-col-label">
                                        Nome
                                    </span>
                                    <span class="kt-table-col-sort">
                                    </span>
                                </span>
                            </th>
                            <th class="min-w-[180px]">
                                <span class="kt-table-col">
                                    <span class="kt-table-col-label">
                                        Role
                                    </span>
                                    <span class="kt-table-col-sort">
                                    </span>
                                </span>
                            </th>
                            <th class="min-w-[180px]">
                                <span class="kt-table-col">
                                    <span class="kt-table-col-label">
                                        Status
                                    </span>
                                    <span class="kt-table-col-sort">
                                    </span>
                                </span>
                            </th>
                            <th class="min-w-[180px]">
                                <span class="kt-table-col">
                                    <span class="kt-table-col-label">
                                        Data de cadastro
                                    </span>
                                    <span class="kt-table-col-sort">
                                    </span>
                                </span>
                            </th>
                            <th class="w-[60px]">
                            </th>
                        </tr>
                    </ng-template>

                    <ng-template pTemplate="body" let-user>
                        <tr>
                            <td class="text-center">
                                <input class="kt-checkbox kt-checkbox-sm" data-kt-datatable-row-check="true"
                                    type="checkbox" value="3" />
                            </td>
                            <td>
                                <div class="flex items-center gap-2.5">
                                    <div class="kt-avatar size-9 shrink-0">
                                        <img [src]="user.avatar" alt="" class="rounded-full" />
                                    </div>
                                    <div class="flex flex-col">
                                        <a [routerLink]="[user.id]"
                                            class="text-sm font-medium font-mono hover:text-primary mb-px">{{
                                            user.name
                                            }}</a>
                                        <a [routerLink]="[user.id]"
                                            class="text-sm text-secondary-foreground font-normal hover:text-primary">{{
                                            user.email }}</a>
                                    </div>
                                </div>
                            </td>
                            <td class="text-foreground font-normal">
                                {{ user.role }}
                            </td>
                            <td>
                                <span class="kt-badge kt-badge-success kt-badge-outline rounded-[30px]">
                                    <span class="kt-badge-dot size-1.5">
                                    </span>
                                    In Office
                                </span>
                            </td>
                            <td class="text-foreground font-normal">
                                {{ user.joinedDate | date:'dd MMM yyyy' }}
                            </td>
                            <td>
                                <a [routerLink]="[user.id]" class="kt-btn kt-btn-icon kt-btn-sm kt-btn-light">
                                    <i class="ki-filled ki-pencil"></i>
                                </a>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</div>